# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
#
# When uploading crates to the registry Cargo will automatically
# "normalize" Cargo.toml files for maximal compatibility
# with all versions of Cargo and also rewrite `path` dependencies
# to registry (e.g., crates.io) dependencies.
#
# If you are reading this file be aware that the original Cargo.toml
# will likely look very different (and much more reasonable).
# See Cargo.toml.orig for the original contents.

[package]
edition = "2021"
rust-version = "1.73"
name = "wasmer-wasix"
version = "0.18.1"
authors = ["Wasmer Engineering Team <engineering@wasmer.io>"]
description = "WASI and WASIX implementation library for Wasmer WebAssembly runtime"
homepage = "https://wasmer.io/"
readme = "README.md"
keywords = [
    "wasm",
    "webassembly",
    "wasi",
    "sandbox",
    "ABI",
]
categories = [
    "wasm",
    "os",
]
license = "MIT"
repository = "https://github.com/wasmerio/wasmer"

[package.metadata.docs.rs]
features = [
    "wasmer/sys",
    "webc_runner_rt_wcgi",
    "webc_runner_rt_dcgi",
    "webc_runner_rt_emscripten",
    "sys-default",
]
rustc-args = [
    "--cfg",
    "docsrs",
]

[dependencies.anyhow]
version = "1.0.66"

[dependencies.async-trait]
version = "^0.1"

[dependencies.base64]
version = "0.21"

[dependencies.bincode]
version = "1.3"

[dependencies.bytecheck]
version = "0.6.8"

[dependencies.bytes]
version = "1"

[dependencies.cfg-if]
version = "1.0"

[dependencies.chrono]
version = "^0.4.31"
features = [
    "wasmbind",
    "std",
    "clock",
]
optional = true
default-features = false

[dependencies.cooked-waker]
version = "^5"

[dependencies.dashmap]
version = "5.4.0"

[dependencies.derivative]
version = "^2"

[dependencies.futures]
version = "0.3"

[dependencies.getrandom]
version = "0.2"

[dependencies.heapless]
version = "0.7.16"

[dependencies.hex]
version = "^0.4"

[dependencies.http]
version = "0.2.8"

[dependencies.hyper]
version = "0.14"
features = [
    "server",
    "stream",
]
optional = true

[dependencies.js-sys]
version = "0.3.64"
optional = true

[dependencies.lazy_static]
version = "1.4"

[dependencies.linked_hash_set]
version = "0.1"

[dependencies.lz4_flex]
version = "0.11"

[dependencies.num_enum]
version = "0.5.7"

[dependencies.once_cell]
version = "1.17.0"

[dependencies.petgraph]
version = "0.6.3"

[dependencies.pin-project]
version = "1.0.12"

[dependencies.rand]
version = "0.8"

[dependencies.rayon]
version = "1.7.0"
optional = true

[dependencies.rkyv]
version = "0.7.40"
features = [
    "indexmap",
    "validation",
    "strict",
]

[dependencies.rusty_pool]
version = "0.7.0"
optional = true

[dependencies.semver]
version = "1.0.17"

[dependencies.serde]
version = "1.0"
features = ["derive"]
default-features = false

[dependencies.serde_cbor]
version = "0.11.2"

[dependencies.serde_derive]
version = "^1"

[dependencies.serde_json]
version = "^1"

[dependencies.serde_yaml]
version = "^0.9"

[dependencies.sha2]
version = "0.10"

[dependencies.shared-buffer]
version = "0.1"

[dependencies.tempfile]
version = "3.6.0"

[dependencies.term_size]
version = "0.3"

[dependencies.thiserror]
version = "1"

[dependencies.tokio]
version = "1"
features = [
    "sync",
    "macros",
    "time",
    "rt",
]
default_features = false

[dependencies.tower]
version = "0.4.13"
features = [
    "make",
    "util",
]
optional = true

[dependencies.tower-http]
version = "0.4.0"
features = [
    "trace",
    "util",
    "catch-panic",
    "cors",
]
optional = true

[dependencies.tracing]
version = "0.1.37"

[dependencies.typetag]
version = "0.1"
optional = true

[dependencies.url]
version = "2.3.1"

[dependencies.urlencoding]
version = "^2"

[dependencies.virtual-fs]
version = "0.11.1"
features = ["webc-fs"]
default-features = false

[dependencies.virtual-mio]
version = "0.3.0"
default-features = false

[dependencies.virtual-net]
version = "0.6.3"
features = ["rkyv"]
default-features = false

[dependencies.wai-bindgen-wasmer]
version = "0.18.1"
features = ["tracing"]

[dependencies.waker-fn]
version = "1.1"

[dependencies.wasm-bindgen]
version = "0.2.87"
optional = true

[dependencies.wasm-bindgen-futures]
version = "0.4.37"
optional = true

[dependencies.wasmer]
version = "=4.2.6"
features = [
    "wat",
    "js-serializable-module",
]
default-features = false

[dependencies.wasmer-emscripten]
version = "=4.2.6"
optional = true

[dependencies.wasmer-journal]
version = "0.1.0"
default-features = false

[dependencies.wasmer-types]
version = "=4.2.6"
default-features = false

[dependencies.wasmer-wasix-types]
version = "0.18.1"
features = ["enable-serde"]

[dependencies.wcgi]
version = "0.1.2"
optional = true

[dependencies.wcgi-host]
version = "0.1.2"
optional = true

[dependencies.web-sys]
version = "0.3.64"
features = [
    "Request",
    "RequestInit",
    "Window",
    "WorkerGlobalScope",
    "RequestMode",
    "Response",
    "Headers",
]
optional = true

[dependencies.webc]
version = "5.8.0"
features = ["package"]
default-features = false

[dependencies.weezl]
version = "^0.1"

[dependencies.xxhash-rust]
version = "0.8.8"
features = ["xxh64"]

[dev-dependencies.pretty_assertions]
version = "1.3.0"

[dev-dependencies.tokio]
version = "1"
features = [
    "sync",
    "macros",
    "rt",
]
default_features = false

[dev-dependencies.tracing-test]
version = "0.2.4"

[dev-dependencies.wasm-bindgen-test]
version = "0.3.0"

[dev-dependencies.wasmer]
version = "=4.2.6"
features = [
    "wat",
    "js-serializable-module",
]
default-features = false

[features]
compiler = []
default = ["sys-default"]
disable-all-logging = [
    "tracing/release_max_level_off",
    "tracing/max_level_off",
]
enable-serde = [
    "typetag",
    "virtual-fs/enable-serde",
    "wasmer-wasix-types/enable-serde",
]
host-fs = ["virtual-fs/host-fs"]
host-reqwest = ["reqwest"]
host-threads = []
host-vnet = ["virtual-net/host-net"]
journal = [
    "tokio/fs",
    "wasmer-journal/log-file",
]
js = [
    "virtual-fs/no-time",
    "getrandom/js",
    "chrono",
    "js-sys",
    "wasm-bindgen",
    "wasm-bindgen-futures",
    "web-sys",
]
js-default = ["js"]
logging = ["tracing/log"]
remote-vnet = ["virtual-net/remote"]
sys = [
    "webc/mmap",
    "time",
    "virtual-mio/sys",
]
sys-default = [
    "sys",
    "logging",
    "host-fs",
    "journal",
    "sys-poll",
    "sys-thread",
    "host-vnet",
    "host-threads",
    "host-reqwest",
]
sys-poll = []
sys-thread = [
    "tokio/rt",
    "tokio/time",
    "tokio/rt-multi-thread",
    "rusty_pool",
]
test-js = [
    "js",
    "wasmer/wat",
]
time = ["tokio/time"]
webc_runner_rt_dcgi = [
    "webc_runner_rt_wcgi",
    "journal",
]
webc_runner_rt_emscripten = ["wasmer-emscripten"]
webc_runner_rt_wcgi = [
    "hyper",
    "wcgi",
    "wcgi-host",
    "tower",
    "tower-http",
]

[target."cfg(all(unix, not(target_os=\"ios\")))".dependencies.termios]
version = "0.3"

[target."cfg(not(target_arch = \"riscv64\"))".dependencies.reqwest]
version = "0.11"
features = [
    "rustls-tls",
    "json",
    "stream",
]
optional = true
default-features = false

[target."cfg(not(target_arch = \"wasm32\"))".dev-dependencies.tracing-subscriber]
version = "^0.3"

[target."cfg(not(target_arch = \"wasm32\"))".dev-dependencies.wasmer]
version = "=4.2.6"
features = [
    "wat",
    "js-serializable-module",
    "cranelift",
]
default-features = false

[target."cfg(target_arch = \"riscv64\")".dependencies.reqwest]
version = "0.11"
features = [
    "native-tls",
    "json",
    "stream",
]
optional = true
default-features = false

[target."cfg(target_arch = \"wasm32\")".dev-dependencies.tracing-wasm]
version = "0.2"

[target."cfg(target_arch = \"wasm32\")".dev-dependencies.wasm-bindgen-test]
version = "0.3.0"

[target."cfg(unix)".dependencies.libc]
version = "^0.2"
default-features = false

[target."cfg(windows)".dependencies.winapi]
version = "0.3"
